<app-navbar></app-navbar>


<div class="container-fluid mt-3 mb-5">
    <div class="row">
    <div class="col-2 ml-auto">
        <button class="btn btn-primary" data-toggle="modal" data-target="#createProductModal">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></svg>
            Create Product
        </button>
        
    </div>
    </div>
    <div class="table-container mt-4 ml-5 mr-5">
        <table class="table ml-1 mr-1">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Owner Company</th>
                    <th>Category</th>
                    <th>Quantity</th>
                    <th>Exportation Date</th>
                    <th>Expiration Date</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let product of products; let i = index">
                    <td>{{i}}</td>
                    <td>{{product?.name}}</td>
                    <td>{{product?.owner}}</td>
                    <td>{{product?.category}}</td>
                    <td>{{product?.quantity}}</td>
                    <td>{{product?.exportDate}}</td>
                    <td>{{product?.expireDate}}</td>
                    <td>{{product?.status}}</td>
                    <td>
                        <span data-toggle="modal" data-target="#accessProductModal" (click)="getProduct(product._id)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z"/></svg></span>
                        <span data-toggle="modal" data-target="#updateProductModal" >
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.684 4.029a8 8 0 1 0 7.287 7.287 7.936 7.936 0 0 0-.603-2.44l1.5-1.502A9.933 9.933 0 0 1 22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2a9.982 9.982 0 0 1 4.626 1.132l-1.501 1.5a7.941 7.941 0 0 0-2.44-.603zM20.485 2.1L21.9 3.515l-9.192 9.192-1.412.003-.002-1.417L20.485 2.1z"/></svg>
                            </span>
                        </span>
                        <span data-toggle="modal" data-target="#deleteProductModal">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M4 8h16v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8zm2 2v10h12V10H6zm3 2h2v6H9v-6zm4 0h2v6h-2v-6zM7 5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2h5v2H2V5h5zm2-1v1h6V4H9z"/></svg>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>






 <div class="modal fade" id="createProductModal" tabindex="-1" role="dialog"
  
aria-labelledby="createProductModalContentTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
        <!-- <app-alert *ngIf="alertUser" [alertClass]='alertClass' [message]='alertMessage'>
        </app-alert> -->
        <div class="modal-header">
            <h5 class="modal-title text-center" id="createProductModalLongTitle">
                Create Product
            </h5>
        </div>
        <div class="modal-body" *ngIf="productForm">
            <form class="box-body form-section" (ngSubmit)="createProduct()" [formGroup]="productForm">
                        <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
               
                <div class="row mt-3">
                    <div class="col-12">
                        <label class="floating-label">Product Name</label>
                        <div class="floating-label-group">
                            <input type="text" class="form-control" autocomplete="off" placeholder="Name"
                            formControlName="name" required />
                        </div>
                    </div>
                    <div class="col-12">
                        <label class="floating-label">Product Owner</label>
                        <div class="floating-label-group">
                            <input type="text" class="form-control" autocomplete="off" placeholder="Company Owner"
                            formControlName="owner" required />
                        </div>
                    </div>
                </div>


                <div class="row mt-3">
                    <div class="col-6">
                        <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                        <label class="floating-label">Category</label>
                        <div class="floating-label-group">
                            <input type="text" class="form-control" autocomplete="off" placeholder="Product Category"
                            formControlName="category" required />
                        </div>
                    </div>
                    <div class="col-6">
                        <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                        <label class="floating-label">Category</label>
                        <div class="floating-label-group">
                            <input type="text" class="form-control" autocomplete="off" placeholder="Product Quantity"
                            formControlName="quantity" required />
                        </div>
                    </div>
                </div>

                
                <div class="row mt-3">
                    <div class="col-6">
                        <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                        <label class="floating-label">Exportation Date</label>
                        <div class="floating-label-group">
                            <input type="date" class="form-control" autocomplete="off" placeholder="Date"
                            formControlName="exportationDate" required />

                        </div>
                    </div>
                    <div class="col-6">
                        <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                        <label class="floating-label">Expiration Date</label>
                        <div class="floating-label-group">
                            <input type="date" class="form-control" autocomplete="off" placeholder="Date"
                            formControlName="expirationDate" required />

                        </div>
                    </div>
                </div>

                <button class="col-12 edit-btn btn btn-primary mt-5" id="save-fixed-duration-advert"
                    type="submit" [disabled]="productForm.invalid || isLoading">
                    <img style="width: 17px; margin-top: -4px;" *ngIf="isLoading"
                        src="assets/images/loader.gif" />
                    Save
                </button>
            </form>
        </div>
    </div>
</div>
</div> 





<div class="modal fade" id="updateProductModal" tabindex="-1" role="dialog"
  
aria-labelledby="updateProductModalContentTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
        <!-- <app-alert *ngIf="alertUser" [alertClass]='alertClass' [message]='alertMessage'>
        </app-alert> -->
        <div class="modal-header">
            <h5 class="modal-title text-center" id="updateProductModalLongTitle">
                Update Product
            </h5>
        </div>
        <div class="modal-body" *ngIf="productForm">
            <form class="box-body form-section" (ngSubmit)="createProduct()" [formGroup]="productForm">
                <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
       
        <div class="row mt-3">
            <div class="col-12">
                <label class="floating-label">Product Name</label>
                <div class="floating-label-group">
                    <input type="text" class="form-control" autocomplete="off" placeholder="Name"
                    formControlName="name" required />
                </div>
            </div>
            <div class="col-12">
                <label class="floating-label">Product Owner</label>
                <div class="floating-label-group">
                    <input type="text" class="form-control" autocomplete="off" placeholder="Company Owner"
                    formControlName="owner" required />
                </div>
            </div>
        </div>


        <div class="row mt-3">
            <div class="col-6">
                <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                <label class="floating-label">Category</label>
                <div class="floating-label-group">
                    <input type="text" class="form-control" autocomplete="off" placeholder="Product Category"
                    formControlName="category" required />
                </div>
            </div>
            <div class="col-6">
                <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                <label class="floating-label">Category</label>
                <div class="floating-label-group">
                    <input type="text" class="form-control" autocomplete="off" placeholder="Product Quantity"
                    formControlName="quantity" required />
                </div>
            </div>
        </div>

        
        <div class="row mt-3">
            <div class="col-6">
                <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                <label class="floating-label">Exportation Date</label>
                <div class="floating-label-group">
                    <input type="date" class="form-control" autocomplete="off" placeholder="Date"
                    formControlName="exportationDate" required />

                </div>
            </div>
            <div class="col-6">
                <!-- [ngClass]="{'is-invalid': productForm.get('name').invalid && productForm.get('name').dirty, 'is-valid': productForm.get('name').valid   && productForm.get('name').dirty}" -->
                <label class="floating-label">Expiration Date</label>
                <div class="floating-label-group">
                    <input type="date" class="form-control" autocomplete="off" placeholder="Date"
                    formControlName="expirationDate" required />

                </div>
            </div>
        </div>

        <button class="col-12 edit-btn btn btn-primary mt-5" id="save-fixed-duration-advert"
            type="submit" [disabled]="productForm.invalid || isLoading">
            <img style="width: 17px; margin-top: -4px;" *ngIf="isLoading"
                src="assets/images/loader.gif" />
            Save
        </button>
    </form>
        </div>
    </div>
</div>
</div> 


















<div class="modal fade" id="accessProductModal" tabindex="-1" role="dialog"
  
aria-labelledby="accessProductModalContentTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document" *ngIf="product">
    <div class="modal-content">
        <!-- <app-alert *ngIf="alertUser" [alertClass]='alertClass' [message]='alertMessage'>
        </app-alert> -->
        <div class="modal-header">
            <h5 class="modal-title text-center" id="accessProductModalLongTitle">
                 Product Status
            </h5>
        </div>
        <div class="modal-body">
            <p>Do you mark {{product?.name}} {{product?.action}}</p>
                <button class="col-12 edit-btn btn btn-primary mt-3" id="save-fixed-duration-advert"
                    type="button" (click)="updateStatus(product._id)">
                    <img style="width: 17px; margin-top: -4px;" *ngIf="isLoading"
                        src="assets/images/loader.gif" />
                    Authorize
                </button>
        </div>
    </div>
</div>
</div>


<div class="modal fade" id="deleteProductModal" tabindex="-1" role="dialog"
  
aria-labelledby="deleteProductModalContentTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document" *ngIf="product">
    <div class="modal-content">
        <!-- <app-alert *ngIf="alertUser" [alertClass]='alertClass' [message]='alertMessage'>
        </app-alert> -->
        <div class="modal-header">
            <h5 class="modal-title text-center" id="deleteProductModalLongTitle">
                 Delete Product
            </h5>
        </div>
        <div class="modal-body">
            <p>Do you want to delete {{product?.user.names}}</p>
                <button class="col-12 edit-btn btn btn-primary mt-3" id="save-fixed-duration-advert"
                    type="button" (click)="deleteProduct(product._id)">
                    <img style="width: 17px; margin-top: -4px;" *ngIf="isLoading"
                        src="assets/images/loader.gif" />
                    Authorize
                </button>
        </div>
    </div>
</div>
</div> 






